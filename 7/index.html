<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Trivia del Debate: Aniversario 365 Comics por Año!!</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108896937-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-108896937-1');
</script>

</head>
<body>
  <div class="container" style="padding-top:20px;">

    <div class="col-md-8">
      <div class="row">
        <ul class="nav nav-pills" role="tablist">
          <li role="presentation" class="active"><a href="#rules" role="tab" data-toggle="tab" class="active">Reglamento</a></li>
          <li role="presentation"><a href="#aprox" role="tab" data-toggle="tab">Aproximación</a></li>
          <li role="presentation"><a href="#trivia" role="tab" data-toggle="tab">Trivia</a></li>
          <li role="presentation"><a href="#killer" role="tab" data-toggle="tab">Asesinas</a></li>
          <li role="presentation"><a href="#untie" role="tab" data-toggle="tab">Desempate</a></li>
          <li role="presentation"><a href="#riddler" role="tab" data-toggle="tab">Riddler</a></li>
        </ul>

        <div class="tab-content">

          <div id="rules" class="tab-pane active" role="tabpanel">

            <header>
              <h2>Reglamento</h2>
            </header>

            <article class="" id="RulesText">
<p>
Arrancamos con una ronda de <b>SIETE preguntas de Aproximaciones</b>. Cada participante que gane la Aproximación ocupará uno de los siete lugares disponibles para la Ronda de Preguntas (el <b>8vo. le corresponde al ganador de la Trivia anterior</b>). El resto queda eliminado, y puede quedarse a presenciar el resto del concurso.
</p>
<p>
La Ronda de Preguntas consiste en <b>80 preguntas ocultas en un panel</b>. Por orden, cada participante descubrirá una pregunta. Si la responde correctamente, sumará un punto y podrá descubrir otra pregunta. Si responde de modo incorrecto, no suma puntos y el turno pasa al participante de su izquierda. 
No hay límite de preguntas que pueda responder un participante cuando sea su turno. Mientras responda correctamente, podrá seguir descubriendo preguntas del panel y sumando puntos para su cosecha.
Al ser sólo 80 preguntas, cada punto que suma un participante es un punto que no suman los demás.
Una vez formuladas las 80 preguntas, <b>los tres participantes que más puntos hayan obtenido pasan a la Ronda Final</b>. Si dos o más participantes empatan en cantidad de puntos, se definirá el finalista con una <b>ronda de Aproximaciones</b>.
</p>
<p>
En la Ronda Final, los participantes responderán cinco preguntas cada uno, de a una por turno. El ganador será el que responda correctamente más preguntas. En caso de empate, se define todo con una pregunta de Aproximaciones.
</p>
<p>
Los dos finalistas que queden en el camino podrán competir por otros premios en el juego titulado <b>THE RIDDLER!</b><br/>
El que más respuestas correctas obtuvo a lo largo de la noche, elige primero, entre dos categorías: <b>AUTOR</b> o <b>PERSONAJE</b>.<br/>
Habrá que deducir el nombre de un autor o personaje a partir de cinco pistas, con este procedimiento:

<ul>
<li>Se dará lectura de la primera pista. Ahí el participante podrá arriesgar, y si responde correctamente el nombre del autor o personaje ganará 5 LIBROS</li>
<li>Si no arriesga, o contesta incorrectamente, se dará lectura a la segunda pista. De nuevo, el participante podrá arriesgar, ahora con la posibilidad de ganar 4 LIBROS</li>
<li>Si no arriesga o no acierta pasamos a la tercera pista, y esta vez podrá arriesgar por 3 LIBROS</li>
<li>...Y así hasta la quinta y última pista. Si acierta, se lleva 1 LIBRO. Si no, ninguno.</li>
</ul>
</p>

</article>

          </div>

          <div id="aprox" class="tab-pane" role="tabpanel">

            <header>
              <h2>Aproximación</h2>
            </header>

            <form id="aproxQuestionForm">
              <button type="button" class="btn btn-sm btn-info" id="StartAprox">GO!</button>
              <button type="button" class="btn btn-sm btn-success" id="prevAproxQuestion">Anterior</button>
              <button type="button" class="btn btn-sm btn-success" id="nextAproxQuestion">Próxima</button>
              <button type="button" class="btn btn-sm btn-danger" id="showAproxAnswer">Respuesta</button>
            </form>

            <hr/>

            <article class="question" id="AproxQuestion">

              <header>
                <h3 id="aprox-question"></h3>
              </header>

              <ul class="list-unstyled">
              </ul>

            </article>

          </div><!-- de panel aprox-->

          <div id="trivia" class="tab-pane" role="tabpanel">

            <header>
              <h2>Trivia</h2>
            </header>


            <form id="TriviaForm" class="form-inline">
              <div class="input-group input-group-sm col-md-2">
                <span class="input-group-btn">
                  <button class="btn btn-success" type="submit" id="goQuestion">Go!</button>
                </span>
                <input type="number" min="1" max="100" class="form-control" placeholder="" id="questionID" title="Presione Enter para elegir">
              </div>
              <button type="button" class="btn btn-sm btn-danger" id="showCorrectAnswer">Mostrar Correcta</button>
            </form>
            <article class="question" id="TriviaQuestion">

              <header>
                <h3 id="trivia-question">Elija una pregunta de la lista</h3>
              </header>

              <ul class="list-unstyled">
              </ul>

            </article>


          </div><!-- de panel trivia-->

          <div id="killer" class="tab-pane" role="tabpanel">

            <header>
              <h2>Asesinas</h2>
            </header>

            <form id="killerQuestionForm">
              <button type="button" class="btn btn-sm btn-info" id="StartKiller">GO!</button>
              <button type="button" class="btn btn-sm btn-success" id="prevKillerQuestion">Anterior</button>
              <button type="button" class="btn btn-sm btn-success" id="nextKillerQuestion">Próxima</button>
              <button type="button" class="btn btn-sm btn-danger" id="showKillerAnswer">Respuesta</button>
            </form>

            <hr/>

            <article class="question" id="KillerQuestion">

              <header>
                <h3 id="killer-question"></h3>
              </header>

              <ul class="list-unstyled">
              </ul>

            </article>

          </div><!-- de panel killer-->

          <div id="untie" class="tab-pane" role="tabpanel">
          <header>
              <h2>Desempate</h2>
            </header>

            <form id="untieQuestionForm">
              <button type="button" class="btn btn-sm btn-info" id="StartUntie">GO!</button>
              <button type="button" class="btn btn-sm btn-success" id="prevUntieQuestion">Anterior</button>
              <button type="button" class="btn btn-sm btn-success" id="nextUntieQuestion">Próxima</button>
              <button type="button" class="btn btn-sm btn-danger" id="showUntieAnswer">Respuesta</button>
            </form>

            <hr/>

            <article class="question" id="UntieQuestion">

              <header>
                <h3 id="untie-question"></h3>
              </header>

              <ul class="list-unstyled">
              </ul>

            </article>
          </div><!-- de panel untie-->

          <div id="riddler" class="tab-pane" role="tabpanel">
            <header>
              <h2>Riddler</h2>
            </header>

            <form id="riddlerQuestionForm">
              <button type="button" class="btn btn-sm btn-info" id="StartRiddler">GO!</button>
              <button type="button" class="btn btn-sm btn-success" id="prevRiddlerQuestion">Autor</button>
              <button type="button" class="btn btn-sm btn-success" id="nextRiddlerQuestion">Personaje</button>
              <button type="button" class="btn btn-sm btn-success" id="showRiddlerOption">Mostrar Opción</button>
              <button type="button" class="btn btn-sm btn-danger" id="showRiddlerAnswer">Respuesta</button>
            </form>

            <hr/>

            <article class="question" id="RiddlerQuestion">

              <ul class="list-unstyled" id="RiddlerCorrect">
              </ul>

              <header>
                <h3 id="riddler-question"></h3>
              </header>

              <ul class="list-unstyled" id="RiddlerOptions">
              </ul>

            </article>

          </div><!-- de panel riddler-->

        </div>
      </div>
    </div><!-- de la columna-->

    <div class="col-md-4">

      <header>
        <img src="img/footer.png" width="100%"/>
        <h4>Jugadores</h4>

        <div class="container-fluid">
          <form class="row form-inline" id="formAddUsers">
            <div class="input-group input-group-sm">
              <span class="input-group-addon" id="sizing-addon3">@</span>
              <input id="PlayerName" type="text" class="form-control" placeholder="Nombre y Apellido" aria-describedby="sizing-addon3">
            </div>
            <div class="btn-group">
              <button type="submit" class="btn btn-danger btn-sm" id="AddUser">Agregar</button>
            <button class="btn btn-success btn-sm" type="reset" id="DoneAddUser">Listo</button>
            </div>

          </form>
        </div>

        <div class="container-fluid">

          <ul class="row list-unstyled" id="PlayerList"></ul>

        </div>
        <div class="formPoints">
          <form class="form-inline" id="formAddUserPoints" style="display:none;">
            <select id="UserPointsSelect" class="form-control">
            </select>
            <button class="btn btn-sm btn-primary" id="plusPoint">+</button> <button class="btn btn-sm btn-warning" id="minusPoint">-</button> <button class="btn btn-sm btn-success" id="resetPoints">reset</button>
          </form>
        </div>

      </header>

      <div class="container-fluid">
      <footer id="triviaButtons" class="row">
        <div class="btn-group" role="group" aria-label="First group">
          <button type="button" class="btn btn-default btn-md">64</button>
        </div>
      </footer>
      </div>

    </div><!-- de la columna-->

  </div><!-- container -->


  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <script>

  document.onkeydown=function(){
  //alert('keycode='+event.keyCode + 'event.ctrlKey='+event.ctrlKey );
    switch (event.keyCode) {
    case 116 : //F5
      event.returnValue=false;
      event.keyCode=0;
      console.log('Refresh is disabled');
      return false;

    case 78: //n
      if (event.ctrlKey) {
        event.returnValue=false;
        event.keyCode=0;
        console.log('New window is disabled');
        return false;
      }
    case 82 : //r
      if (event.ctrlKey) {
        event.returnValue=false;
        event.keyCode=0;
        console.log('Refresh is disabled');
        return false;
      }
    }
  }


  $(function() {
    // APLICAR LOGICA DE LEVANTAR LISTA DE AHI

    var State = {

      Users: {},
      Aprox: {},
      Trivia: {},
      Killer: {},
      Untie: {},
      Riddler: {},

    };

    // FUNCIONES DE APROX

    State.Aprox.Init = function(){

      this.cursor = 0;
      this.maxQuestions = this.Questions.length;
      console.log("Init Aprox", this);

    };

    State.Aprox.Start = function(e){

      e.preventDefault();
      this.getQuestion(e, this.cursor);
      console.log("Aprox Started");

    };

    State.Aprox.Prev = function(e){

      e.preventDefault();

      if(this.cursor > 0) {
        this.cursor--;
        this.getQuestion(e, this.cursor);
        console.log("Aprox Prev");
      }else return;

    };

    State.Aprox.Next = function(e){

      e.preventDefault();
      let maxQ = this.maxQuestions -1;
      if(this.cursor < maxQ) {
        this.cursor++;
        this.getQuestion(e, this.cursor);
        console.log("Aprox Prev");
      }else return;

    };

    State.Aprox.showCorrect = function(e){

      e.preventDefault();
      let AproxQuestion = State.Aprox.Questions[this.cursor];
      let answerList = $("#AproxQuestion ul");
      answerList.find('li').remove();

      $.each(AproxQuestion.correct, function(i, v){

        let li = document.createElement('li');
        let text = document.createTextNode(v);
        li.appendChild(text);

        if(v == AproxQuestion.correct[0]) li.setAttribute('style', 'alert alert-danger');
        else li.setAttribute("class", 'alert');

        answerList.append(li);

      });

    };

    State.Aprox.getQuestion = function(e, q){

      e.preventDefault();
      let len = State.Aprox.Questions.length;

      if(q == '' || q > len) q = this.cursor;

      console.log("Obteniendo Pregunta", q, State.Aprox.Questions.length);

      let AproxQuestion = State.Aprox.Questions[q];

      // ACA DIBUJO
      $("#AproxQuestion h3").html(AproxQuestion.text);

      let answerList = $("#AproxQuestion ul");
      answerList.find('li').remove();

    };


    State.Aprox.Questions = [
{
        "text": "01 ¿Cuántas planchas de Little Nemo produjo Winsor McCay?",
        "correct": ["549"],
        "answers": []
      },
{
        "text": "02 ¿En qué puesto figura Wasp en el ranking de las 100 Mujeres más Sexies de los Comics elaborado por la Comics Buyer´s Guide?",
        "correct": ["94"],
        "answers": []
      },
{
        "text": "03 ¿Qué día publicó Dark Horse el último episodio de la saga de Elfquest?",
        "correct": ["20 de Febrero de 2018"],
        "answers": []
      },
{
        "text": "04 ¿Hasta qué número llegó la serie original de House of Mystery?",
        "correct": ["321"],
        "answers": []
      },
{
        "text": "05 ¿En qué año sitúa Jonathan Hickman el inicio de East of West?",
        "correct": ["2064"],
        "answers": []
      },
{
        "text": "06 ¿Qué día se publicó en Francia la primera plancha de Les Frustrés, de Claire Bretecher?",
        "correct": ["15 de Octubre de 1973"],
        "answers": []
      },
{
        "text": "07 ¿Qué número de Skorpio incluye una aventura inédita de Ernie Pike a cargo de H.G. Oesterheld y Solano López?",
        "correct": ["19"],
        "answers": []
      },
      {
  "text": "08 ¿Qué día se publicó en EEUU el primer comic con variant covers?",
  "correct": ["17 de Junio de 1986"],
  "answers": []
}
    ];


    State.Untie.Init = function(){

      this.cursor = 0;
      this.maxQuestions = this.Questions.length;
      console.log("Init Untie", this);

    };

    State.Untie.Start = function(e){

      e.preventDefault();
      this.getQuestion(e, this.cursor);
      console.log("Untie Started");

    };

    State.Untie.Prev = function(e){

      e.preventDefault();

      if(this.cursor > 0) {
        this.cursor--;
        this.getQuestion(e, this.cursor);
        console.log("Untie Prev");
      }else return;

    };

    State.Untie.Next = function(e){

      e.preventDefault();
      let maxQ = this.maxQuestions -1;
      if(this.cursor < maxQ) {
        this.cursor++;
        this.getQuestion(e, this.cursor);
        console.log("Untie Prev");
      }else return;

    };

    State.Untie.showCorrect = function(e){

      e.preventDefault();
      let UntieQuestion = State.Untie.Questions[this.cursor];
      let answerList = $("#UntieQuestion ul");
      answerList.find('li').remove();

      $.each(UntieQuestion.correct, function(i, v){

        let li = document.createElement('li');
        let text = document.createTextNode(v);
        li.appendChild(text);

        if(v == UntieQuestion.correct[0]) li.setAttribute('style', 'alert alert-danger');
        else li.setAttribute("class", 'alert');

        answerList.append(li);

      });

    };

    State.Untie.getQuestion = function(e, q){

      e.preventDefault();
      let len = State.Untie.Questions.length;

      if(q == '' || q > len) q = this.cursor;

      console.log("Obteniendo Pregunta", q, State.Untie.Questions.length);

      let UntieQuestion = State.Untie.Questions[q];

      // ACA DIBUJO
      $("#UntieQuestion h3").html(UntieQuestion.text);

      let answerList = $("#UntieQuestion ul");
      answerList.find('li').remove();

    };


    State.Untie.Questions = [
{
  "text": "01 ¿Hasta qué número llegó la serie original de The Incredible Hulk?",
  "correct": ["474"],
  "answers": []
},
{
  "text": "02 ¿En qué número de El Tony aparece el primer trabajo de H.G. Oesterheld para la editorial Columba?",
  "correct": ["1535 (Mayo de 1958)"],
  "answers": []
},
{
  "text": "03 Según Chris Claremont, ¿qué día murió Jean Grey?",
  "correct": ["1 de Septiembre de 1980"],
  "answers": []
},
{
  "text": "04 ¿Cuántos años duró Amanda, la serie de Robin Wood y Alfredo Falugi?",
  "correct": ["26"],
  "answers": []
}
    ];


    // FUNCIONES DE KILLERS

    State.Killer.Init = function(){

      this.cursor = 0;
      this.maxQuestions = this.Questions.length;

      console.log("Init Killer", this);

    };

    State.Killer.Start = function(e){

      e.preventDefault();
      this.getQuestion(e, this.cursor);
      console.log("Killer Started");

    };

    State.Killer.Prev = function(e){

      e.preventDefault();

      if(this.cursor > 0) {
        this.cursor--;
        this.getQuestion(e, this.cursor);
        console.log("Killer Prev");
      }else return;

    };

    State.Killer.Next = function(e){

      e.preventDefault();
      let maxQ = this.maxQuestions -1;
      if(this.cursor < maxQ) {
        this.cursor++;
        this.getQuestion(e, this.cursor);
        console.log("Killer Prev");
      }else return;

    };

    State.Killer.getQuestion = function(e, q){

      e.preventDefault();
      let len = State.Killer.Questions.length;

      if(q == '' || q > len) q = this.cursor;

      console.log("Obteniendo Pregunta", q, State.Killer.Questions.length);

      let KillerQuestion = State.Killer.Questions[q];

      // ACA DIBUJO
      $("#KillerQuestion h3").html(KillerQuestion.text);

      let answerList = $("#KillerQuestion ul");
      answerList.find('li').remove();

      $.each(KillerQuestion.answers, function(i, v){

        let li = document.createElement('li');
        let text = document.createTextNode(v);
        li.appendChild(text);

        if(v == KillerQuestion.correct[0]) li.setAttribute("class", 'alert correct');
        else li.setAttribute("class", 'alert');

        answerList.append(li);

      });

    };

    State.Killer.showCorrect = function(e){
      e.preventDefault();
      $("#KillerQuestion li.correct").addClass('alert alert-success');
    };

    State.Killer.Questions = [
{
  "text": "01 ¿Quién creó a Andrew Bennett, el protagonista de I… Vampire?",
  "correct": ["J.M. DeMatteis"],
  "answers": [
"David Michelinie", "Jack Oleck", "J.M. DeMatteis", "Michael Fleischer"
  ]
},
{
  "text": "02 ¿En qué comic de los siguientes NO aparece Julius Schwartz como personaje?",
  "correct": ["Superman #394 (1983)"],
  "answers": [
"The Flash #179 (1968)", "Superman #394 (1983)", "DC Comics Presents (2004)", "Action Comics #583 (1986)"
  ]
},
{
  "text": "03 De los números de Multiversity de Grant Morrison, ¿cuál de estas historias/revistas sale primero?",
  "correct": ["The Just"],
  "answers": [
"Mastermen", "Thunderworld Adventures", "The Just", "Guidebook"
  ]
},
{
  "text": "04 ¿Cómo murió Jartran Radd, padre de Norrin Radd?",
  "correct": ["Se suicidó"],
  "answers": [
"De causas naturales", "Lo mató Mephisto", "Tuvo un accidente en un viaje espacial", "Se suicidó"
  ]
},
{
  "text": "05 ¿Contra qué villano se enfrenta Spider-Man cuando viaja a Argelia a investigar la muerte de sus padres?",
  "correct": ["Red Skull"],
  "answers": [
"Arnim Zola", "Baron Zemo", "Batroc the Leaper", "Red Skull"
  ]
},
{
  "text": "06 ¿En qué revista debutó Brother Voodoo, en 1973?",
  "correct": ["Strange Tales"],
  "answers": [
"Marvel Premiere", "Marvel Spotlight", "Strange Tales", "Marvel Two-in-One"
  ]
},
{
  "text": "07 ¿Qué obra de Bastien Vivés no ganó ningún premio importante?",
  "correct": ["En mis ojos"],
  "answers": [
"El Gusto del Cloro", "En mis ojos", "Lastman", "Polina"
  ]
},
{
  "text": "08 ¿De qué famoso guionista de comics se burló Dave Sim en un recordado episodio de Cerebus?",
  "correct": ["Chris Claremont"],
  "answers": [
"Chris Claremont", "Marv Wolfman", "Roy Thomas", "Steve Englehart"
  ]
},
{
  "text": "09 En los cómics de Madman, ¿en qué se convierte el Dr. Boiffard como resultado de sus experimentos?",
  "correct": ["Un cerebro gigante"],
  "answers": [
"Un cadáver viviente", "Un cerebro gigante", "Una cabeza sin cuerpo", "Una criatura hecha de vómito"
  ]
},
{
  "text": "10 En Usagi Yojimbo, ¿qué animal es Chizu?",
  "correct": ["Gato"],
  "answers": [
"Ave", "Gato", "Serpiente", "Tigre"
  ]
},
{
  "text": "11 ¿Qué Obra de Osamu Tezuka es más antigua?",
  "correct": ["Jungle Taitei (Kimba el León Blanco)"],
  "answers": [
"Jungle Taitei (Kimba el León Blanco)", "Tetsuwan Atom (Astroboy)", "Ribon no Kishi (La princesa caballero)", "Hi no Tori (Fénix)"
  ]
},
{
  "text": "12 ¿Qué personaje NO tiene cicatriz visible en la cara?",
  "correct": ["Ishigami Kamuro"],
  "answers": [
"Manji", "Soma Yukihira", "Kenshin Himura", "Ishigami Kamuro"
  ]
},
{
  "text": "13 ¿Cuál de estos superhéroes paródicos es una creación de Rep?",
  "correct": ["El Hombre Látex"],
  "answers": [
"Bolas de Acero", "El Hombre Látex", "Sperman", "SuperTet"
  ]
},
{
  "text": "14 ¿Cuál de estas obras de Alberto Breccia vio primero la luz?",
  "correct": ["Pancho López"],
  "answers": [
"Ernie Pike", "La vida del Che", "Pancho López", "El Eternauta"
  ]
},
{
  "text": "15 ¿Cuál de estos personajes fue creado primero?",
  "correct": ["Adele Blanc-Sec"],
  "answers": [
"Adele Blanc-Sec", "Nick Raider", "Ken Parker", "Dylan Dog"
  ]
}
    ];


    // FUNCIONES DE TRIVIA

    State.Trivia.Init = function(){

      this.cursor = 0;
      this.maxQuestions = this.Questions.length;
      this.NoOptions = 0;

      this.DrawButtons();

      console.log("Init Trivia", this);

    };


State.Trivia.Questions = [
{
        "text": "01 ¿Cuál de estos NO es un personaje creado por Carlos Trillo?",
        "correct": ["Max Calzone"],
        "answers": [
        "Franca Stein", "Ivan Piire", "Max Calzone", "Philippa Marlowe"
        ]
      },
{
        "text": "02 ¿Qué editorial dio a conocer Zot!, la seminal obra de Scott McCloud?",
        "correct": ["Eclipse"],
        "answers": [
        "Comico", "Eclipse", "First", "Malibu"
        ]
      },
{
        "text": "03 ¿Cuál de estas afirmaciones sobre el universo expandido de Saint Seiya es falsa?",
        "correct": ["Lost Canvas narra el origen de Hades"],
        "answers": [
        "Episode G está protagonizada por Aiolia de Leo", "Lost Canvas narra el origen de Hades", "Next Dimension es la secuela oficial del manga original", "Saintia Sho está centrada en un grupo de chicas con poderes"
        ]
      },
{
        "text": "04 ¿Qué serie tenía entre sus personajes secundarios a Frank Drake?",
        "correct": ["Tomb of Dracula"],
        "answers": [
        "Son of Satan", "The Monster of Frankenstein", "Tomb of Dracula", "Werewolf by Night"
        ]
      },
{
        "text": "05 ¿Qué buscan Astérix y Obélix en Astérix en Helvecia?",
        "correct": ["Una flor"],
        "answers": [
        "Una flor", "Un chocolate", "Un queso", "Un reloj"
        ]
      },
{
        "text": "06 ¿Qué clásico enemigo de Hal Jordan se tragó la linterna naranja y se transformó en Ophidian?",
        "correct": ["Hector Hammond"],
        "answers": [
        "Evil Star", "Goldface", "Hector Hammond", "Sonar"
        ]
      },
{
        "text": "07 ¿Quien utiliza el estilo de lucha Amakakeru Ryu No Hirameki?",
        "correct": [" Kenshin Himura"],
        "answers": [
        "Ishigami Kamuro", " Kenshin Himura", "Ranma Saotome", "Kyu Kusanagi"
        ]
      },
{
        "text": "08 ¿Quién es Adolfo Sosa?",
        "correct": ["El hermano de Mikilo"],
        "answers": [
        "El hermano de Mikilo", "El jefe del Nene Montanaro", "El papá de Felipe, el amigo de Mafalda", "El policía amigo de Animal Urbano"
        ]
      },
{
        "text": "09 ¿Qué enemigo de Hellboy tiene los rasgos de un jabalí antropomórfico?",
        "correct": ["Gruagach"],
        "answers": [
        "Dagda", "Gruagach", "Kriegaffe", "Ualac"
        ]
      },
{
        "text": "10 ¿Qué manga de Naoki Urasawa está ambientado en el mundo del judo?",
        "correct": ["Yawara"],
        "answers": [
        "Beta", "Happy", "Jigoro", "Yawara"
        ]
      },
{
        "text": "11 ¿De qué país es originario Xorn?",
        "correct": ["China"],
        "answers": [
        "China", "Mongolia", "Tailandia", "Vietnam"
        ]
      },
{
        "text": "12 ¿Quién es el guionista de la serie actual del Metabarón?",
        "correct": ["Jerry Frissen"],
        "answers": [
        "Fabien Nury", "Jerry Frissen", "Richard Marazano", "Yves Sente"
        ]
      },
{
        "text": "13 ¿Cual de estas series no salió este año?",
        "correct": ["Roberto un tipo de mierda"],
        "answers": [
        "Qué querés ser cuando seas grande", "Reinos de Void", "Morir a los 27", "Roberto un tipo de mierda"
        ]
      },
{
        "text": "14 ¿Qué tienen en común Maison Ikokku, Mao, Kyokai no rinne y Urusei Yatsura?",
        "correct": ["Son todas obras de Rumiko Takahashi"],
        "answers": [
        "Son todos shonen serializados en la Shonen Jump", "todas las obras son de deportes", "Son todas obras de Rumiko Takahashi", "Fueron todas creadas entre 1989 y 1995"
        ]
      },
{
        "text": "15 ¿Quién fue el primer dibujante de Poncho Negro, en 1952?",
        "correct": ["Carlos Vogt"],
        "answers": [
        "Carlos Casalla", "Carlos Clemen", "Carlos Roume", "Carlos Vogt"
        ]
      },
{
        "text": "16 ¿Cuál fue la primera editorial estadounidense en darle trabajo a José Luis García López?",
        "correct": ["Charlton"],
        "answers": [
        "Charlton", "DC", "Dell", "Warren"
        ]
      },
{
        "text": "17 ¿Qué célebre mangaka fundó la editorial Leed, en 1971?",
        "correct": ["Takao Saito"],
        "answers": [
        "Shotaro Ishinomori", "Takao Saito", "Yoshiharu Tsuge", "Yoshihiro Tatsumi"
        ]
      },
{
        "text": "18 ¿Quién creó a Hit Monkey?",
        "correct": ["Daniel Way"],
        "answers": [
        "Cullen Bunn", "Daniel Way", "Gerry Duggan", "Joe Kelly"
        ]
      },
{
        "text": "19 ¿Como se llama el hipnotizador que antagoniza con el señor Arenas en la obra homónima de Juan Sáenz Valiente?",
        "correct": ["Darek"],
        "answers": [
        "Tuareg", "Darek", "Zarek", "Derek"
        ]
      },
{
        "text": "20 ¿Cuál es el apellido de Evey, la protagonista de V for Vendetta?",
        "correct": ["Hammond"],
        "answers": [
        "Hammer", "Hammil", "Hammstein", "Hammond"
        ]
      },
{
        "text": "21 ¿A qué se dedica Leo Roa, el personaje de Juan Giménez?",
        "correct": ["Periodista"],
        "answers": [
        "Agente secreto", "Beisbolista", "Periodista", "Piloto de un carguero espacial"
        ]
      },
{
        "text": "22 ¿Con que tira diaria relacionamos al maestro Stan Drake?",
        "correct": ["The Heart of Juliet Jones"],
        "answers": [
        "Brenda Starr", "Mary Worth", "On Stage", "The Heart of Juliet Jones"
        ]
      },
{
        "text": "23 ¿Cual de estas obras de Inio Asano no fué editada (aún) en Argentina?",
        "correct": ["Reiraku"],
        "answers": [
        "Heroes", "Solanin", "Oyasumi Punpun", "Reiraku"
        ]
      },
{
        "text": "24 ¿A qué se dedicaban Franklin y Mary Storm, los padres de Johnny y Sue?",
        "correct": ["Cirujano y ama de casa"],
        "answers": [
        "Abogado y agente de S.H.I.E.L.D.", "Cirujano y ama de casa", "Militar y especialista en botánica", "Prestamista y policía"
        ]
      },
{
        "text": "25 ¿A qué se dedican los protagonistas de Sinister Dexter, la famosa serie de Dan Abnett en la 2000 A.D.?",
        "correct": ["Asesinos a sueldo"],
        "answers": [
        "Asesinos a sueldo", "Estrellas de rock", "Jugadores de poker", "Supervillanos"
        ]
      },
{
        "text": "26 ¿Quién financiaba secretamente a los Outsiders cuando pasaron a la clandestinidad (en la etapa de Judd Winick)?",
        "correct": ["Oliver Queen"],
        "answers": [
        "Bruce Wayne", "Lex Luthor", "Oliver Queen", "Ted Kord"
        ]
      },
{
        "text": "27 ¿Cual de estas obras de Alcatena no tiene a Mazzitelli como guionista?",
        "correct": ["El Mago"],
        "answers": [
        "Panteras", "El Mago", "Acero Líquido", "El Zigurat"
        ]
      },
{
        "text": "28 ¿Qué país tiene a Rutu Modan como una de sus principales autoras de comics?",
        "correct": ["Israel"],
        "answers": [
        "Israel", "Irán", "Rumania", "Turquía"
        ]
      },
{
        "text": "29 ¿Qué poder NO le dio la nube Terrigen a Lunella Lafayette?",
        "correct": ["Hackear cualquier programa y decodificar contraseñas"],
        "answers": [
        "Bajo nivel de superfuerza", "Hackear cualquier programa y decodificar contraseñas", "Inteligencia a nivel máximo para un ser humano", "Transferir su mente al cuerpo de Devil Dinosaur"
        ]
      },
{
        "text": "30 ¿En qué desierto transcurre El Hombre de Papel, el clásico de Milo Manara?",
        "correct": ["Arizona"],
        "answers": [
        "Arizona", "Atacama", "Gobi", "Sahara"
        ]
      },
{
        "text": "31 ¿Quién lideraba a los DV8?",
        "correct": ["Ivana"],
        "answers": [
        "Helspont", "Helmut", "Ivana", "Lynch"
        ]
      },
{
        "text": "32 ¿Qué número usa en la camiseta Hinata?",
        "correct": ["10"],
        "answers": [
        "4", "7", "10", "11"
        ]
      },
{
        "text": "33 ¿Cual de estas obras no fue escrita por Grant Morrison?",
        "correct": ["Mister X"],
        "answers": [
        "Sebastian O", "Mister X", "The New adventures of Adolf Hitler", "Janus: Psi Division"
        ]
      },
{
        "text": "34 ¿Qué fueron Harrier, Matrix y Upshot?",
        "correct": ["Editoriales norteamericanas de los ´80"],
        "answers": [
        "Editoriales norteamericanas de los ´80", "Revistas de la movida underground del Reino Unido", "Superhéroes creados por Jim Valentino", "Tipografías para comics desarrolladas por Richard Starkings"
        ]
      },
{
        "text": "35 ¿Quién mató a Flash Thompson?",
        "correct": ["Norman Osborn"],
        "answers": [
        "Goblin King", "Hobgoblin", "Norman Osborn", "Venom"
        ]
      },
{
        "text": "36 ¿Cuál de estos títulos NO corresponde a una obra de Víctor Santos?",
        "correct": ["Versus"],
        "answers": [
        "Polar", "Pulp Heroes", "Rashomon", "Versus"
        ]
      },
{
        "text": "37 ¿Con qué agencia de inteligencia secreta se vincula a la actual versión de Hawkgirl?",
        "correct": ["Blackhawks"],
        "answers": [
        "A.R.G.U.S.", "Blackhawks", "Checkmate", "D.E.O."
        ]
      },
{
        "text": "38 ¿Cómo se llaman los protagonistas de Joven Argentino, el clásico de Miguel Rep?",
        "correct": ["El Negro y la Turca"],
        "answers": [
        "El Chino y la Flaca", "El Negro y la Turca", "El Ruso y la Gorda", "El Zurdo y la Gringa"
        ]
      },
{
        "text": "39 Si me cebé con las aventuras de Dimento, ¿qué saga estoy leyendo?",
        "correct": ["Mutant World"],
        "answers": [
        "El Mundo de Edena", "Generation Zero", "La Búsqueda del Pájaro del Tiempo", "Mutant World"
        ]
      },
{
        "text": "40 ¿Cuáles de estos personajes aparecieron por primera vez en la misma revista?",
        "correct": ["Syrin y Caliban"],
        "answers": [
        "Arcade y Amahl Farouk", "Lee Forrester y Gabrielle Haller", "Snowbird y Stevie Hunter", "Syrin y Caliban"
        ]
      },
{
        "text": "41 ¿Qué país tiene a Dick Matena como uno de sus principales autores de comics?",
        "correct": ["Holanda"],
        "answers": [
        "Austria", "Holanda", "Polonia", "República Checa"
        ]
      },
{
        "text": "42 ¿Qué hace el protagonista de Yowamushi Pedal para motivarse?",
        "correct": ["Cantar el opening de un animé"],
        "answers": [
        "Pensar en Rei", "Imaginarse con una bicicleta nueva", "Cantar el opening de un animé", "Recitar la historia de los tres reinos"
        ]
      },
{
        "text": "43 ¿Quién creó al Suicide Squad que debutó en 1959 en las páginas del nº25 de Brave and the Bold?",
        "correct": ["Robert Kanigher"],
        "answers": [
        "Arnold Drake", "Bob Haney", "Jack Miller", "Robert Kanigher"
        ]
      },
{
        "text": "44 ¿En qué década se sitúa el inicio de Phantom Blood, la primera saga de JoJo´s Bizarre Adventure?",
        "correct": ["1880"],
        "answers": [
        "1850", "1880", "1910", "1940"
        ]
      },
{
        "text": "45 ¿Quiénes fueron los autores de Browning & Cooper, una de las series más extensas de la historia de Skorpio?",
        "correct": ["Eduardo Mazzitelli y Lito Fernández"],
        "answers": [
        "Eduardo Mazzitelli y Gerardo Canelo", "Eduardo Mazzitelli y Lito Fernández", "Walter Slavich y Alberto Saichann", "Walter Slavich y Horacio Ottolini"
        ]
      },
{
        "text": "46 ¿Por qué era popularmente conocido Judd Winick antes de consagrarse como guionista de comics?",
        "correct": ["Participó en un exitoso reality show"],
        "answers": [
        "Era actor", "Era beisbolista", "Fue integrante de un grupo de música pop", "Participó en un exitoso reality show"
        ]
      },
{
        "text": "47 ¿Cuál fue el primer comic publicado por Marvel en el que se vieron genitales masculinos y femeninos?",
        "correct": ["Blood: A Tale"],
        "answers": [
        "Blood: A Tale", "Starstruck", "The One", "Void Indigo"
        ]
      },
{
        "text": "48 ¿Qué vende Jerónimo Puchero (o Jerome Moucherot)?",
        "correct": ["Seguros"],
        "answers": [
        "Armas", "Electrodomésticos", "Seguros", "Zapatos"
        ]
      },
{
        "text": "49 ¿En qué ciudad opera normalmente Animal Man?",
        "correct": ["San Diego"],
        "answers": [
        "Las Vegas", "Los Angeles", "San Diego", "San Francisco"
        ]
      },
{
        "text": "50 ¿Cuál de estos artistas NO nació en Mar del Plata?",
        "correct": ["Rodrigo Luján"],
        "answers": [
        "Juan Carlos Quattordio", "Kundo Krunch", "Leonardo Manco", "Rodrigo Luján"
        ]
      },
{
        "text": "51 ¿Qué serie tiene como protagonista a Emily Hayes?",
        "correct": ["Amulet"],
        "answers": [
        "Amulet", "Injection", "Monstress", "The Lumberjanes"
        ]
      },
{
        "text": "52 ¿En qué planeta nació Yondu?",
        "correct": ["Centauri IV"],
        "answers": [
        "Arcturus", "Centauri IV", "Lem", "Xandar"
        ]
      },
{
        "text": "53 ¿Cuál de estos títulos NO corresponde a una obra de Alexandro Jodorowsky?",
        "correct": ["Los Heresiarcas"],
        "answers": [
        "El Dios Celoso", "El Papa Terrible", "Los Caballeros de Heliópolis", "Los Heresiarcas"
        ]
      },
{
        "text": "54 ¿Cuál de estos personajes NO fue creado por Bill Finger?",
        "correct": ["Kathy Kane"],
        "answers": [
        "Kathy Kane", "Lana Lang", "Lori Lemaris", "Vicky Vale"
        ]
      },
{
        "text": "55 ¿Cual de estas afirmaciones sobre Takao Saito es falsa?",
        "correct": ["Su madre es Coreana"],
        "answers": [
        "Creó Golgo XIII", "Hizo un manga de James Bond", "Su madre es Coreana", "Se lo confunde con un director de fotografía de cine"
        ]
      },
{
        "text": "56 ¿Qué personaje del universo García Ferré fue creado por Héctor G. Oesterheld?",
        "correct": ["Cachavacha"],
        "answers": [
        "Cachavacha", "Calculín", "Gold Silver", "Trapito"
        ]
      },
{
        "text": "57 ¿En qué país es sumamente popular el superhéroe Kalimán?",
        "correct": ["México"],
        "answers": [
        "Bolivia", "Colombia", "México", "Perú"
        ]
      },
{
        "text": "58 ¿Cómo se llamaba el padre de Namor?",
        "correct": ["Leonard"],
        "answers": [
        "Edward", "Howard", "Leonard", "Richard"
        ]
      },
{
        "text": "59 ¿En qué saga apareció el personaje de Kriss de Valnor, hoy protagonista de sus propios álbumes?",
        "correct": ["Thorgal"],
        "answers": [
        "La Búsqueda del Pájaro del Tiempo", "Lanfeust de Troy", "Los Tecnopadres", "Thorgal"
        ]
      },
{
        "text": "60 ¿Con quién se involucra sentimentalmente Plastic Man en la serie de Kyle Baker?",
        "correct": ["Una agente secreta"],
        "answers": [
        "Una agente secreta", "Una estrella de Hollywood", "Una supervillana", "La dueña de un circo"
        ]
      },
{
        "text": "61 ¿De quién se enamora la protagonista de Intensa, la novela gráfica de Sole Otero?",
        "correct": ["De un escritor"],
        "answers": [
        "De un dibujante", "De un escritor", "De un oficinista", "Del mozo de un restaurante"
        ]
      },
{
        "text": "62 ¿Quién fue el creador de Lady Death?",
        "correct": ["Brian Pulido"],
        "answers": [
        "Brian Pulido", "Gerald Brom", "Mike Wolfer", "Steven Hughes"
        ]
      },
{
        "text": "63 ¿Quién impidió la boda entre Crystal y Ronan the Accuser?",
        "correct": ["La Guardia Imperial de Shi´ar"],
        "answers": [
        "Black Bolt", "La Guardia Imperial de Shi´ar", "La Supreme Inteligence", "Vulcan"
        ]
      },
{
        "text": "64 ¿En qué ciudad vive Dylan Dog?",
        "correct": ["Londres"],
        "answers": [
        "Barcelona", "Londres", "París", "Roma"
        ]
      },
{
        "text": "65 ¿Cuantos miembros de la tripulación de Luffi comieron frutas del diablo, excluyendo al protagonista?",
        "correct": ["3"],
        "answers": [
        "2", "3", "4", "5"
        ]
      },
{
        "text": "66 ¿Qué villano hizo su debut en el nº66 de Detective Comics?",
        "correct": ["Two-Face"],
        "answers": [
        "Penguin", "Riddler", "Scarecrow", "Two-Face"
        ]
      },
{
        "text": "67 ¿Qué comic tiene entre sus protagonistas a Karl Korbenfeld?",
        "correct": ["El Ultimo Recurso"],
        "answers": [
        "Dora: Malenki Sukole", "El Aneurisma del Chico Punk", "El Ultimo Recurso", "Norton Gutiérrez y el Collar de Emma Tzampak"
        ]
      },
{
        "text": "68 En los comics de Archie, ¿cuál es el apellido de Betty?",
        "correct": ["Cooper"],
        "answers": [
        "Carter", "Cooper", "Miller", "Turner"
        ]
      },
{
        "text": "69 ¿Quién escribió la primera miniserie de Marvel Zombies?",
        "correct": ["Robert Kirkman"],
        "answers": [
        "Brian Michael Bendis", "Dan Abnett", "Jonathan Hickman", "Robert Kirkman"
        ]
      },
{
        "text": "70 ¿Quién es el actual guionista de Lucky Luke?",
        "correct": ["Jul"],
        "answers": [
        "Achdé", "Jean-Yves Ferri", "Jul", "Simon Léthurgie"
        ]
      },
{
        "text": "71 ¿Con qué nombre conocimos a Mar Novu?",
        "correct": ["Monitor"],
        "answers": [
        "Mentor", "Monitor", "Mongul", "Mordru"
        ]
      },
{
        "text": "72 ¿Cuál de estos NO es un personaje creado por Guillermo Divito?",
        "correct": ["Capicúa"],
        "answers": [
        "Bómbolo", "Capicúa", "Fallutelli", "Pochita Morfoni"
        ]
      },
{
        "text": "73 ¿Qué serie tiene como protagonista a Christian Walker?",
        "correct": ["Powers"],
        "answers": [
        "Powers", "Ten Grand", "Thief of Thieves", "Trees"
        ]
      },
{
        "text": "74 ¿Qué grupo de comida utiliza Akira Toriyama para nombrar a las fuerzas especiales Gi-Nyu?",
        "correct": ["Lácteos"],
        "answers": [
        "Vegetales", "Lácteos", "Frutas", "Ninguno"
        ]
      },
{
        "text": "75 ¿En qué ciudad nació Carol Danvers?",
        "correct": ["Boston"],
        "answers": [
        "Atlanta", "Boston", "Chicago", "Denver"
        ]
      },
{
        "text": "76 ¿Quién fue el autor de la saga Los Guardianes del Maser?",
        "correct": ["Massimiliano Frezzatto"],
        "answers": [
        "Enrico Marini", "Giancarlo Alessandrini", "Massimiliano Frezzatto", "Vittorio Giardino"
        ]
      },
{
        "text": "77 En la continuidad pre-Crisis de DC, ¿quién fue Larry Lance?",
        "correct": ["El detective que se casó con Black Canary"],
        "answers": [
        "El detective que se casó con Black Canary", "El justiciero conocido como Tarantula", "El senador que impulsó el juicio a la JSA", "El villano que mató al Batman de Tierra-2"
        ]
      },
{
        "text": "78 ¿Cuáles de estos maestros fueron compañeros en la escuela secundaria?",
        "correct": ["Bob Kane y Will Eisner"],
        "answers": [
        "Bob Kane y Will Eisner", "Jack Kirby y Joe Kubert", "Jerry Siegel y Joe Simon", "Stan Lee y Harvey Kurtzman"
        ]
      },
{
        "text": "79 ¿Quién liberó al Legacy Virus?",
        "correct": ["Stryfe"],
        "answers": [
        "Bolivar Trask", "Mr. Sinister", "Phalanx", "Stryfe"
        ]
      },
{
        "text": "80 ¿Cual de estas obras tiene como protagonista a Junta Momonari?",
        "correct": ["DNA2"],
        "answers": [
        "Video Girl Ai", "DNA2", "I''s", "Shadow Lady"
        ]
      },

    ];

    function SortByText(a, b){
      var aName = a.text.toLowerCase();
      var bName = b.text.toLowerCase();
      return ((aName < bName) ? -1 : ((aName > bName) ? 1 : 0));
    }

    State.Trivia.Questions.sort(SortByText);

    // OBTENGO Y DIBUJO PREGUNTA

    State.Trivia.DrawButtons = function(){

      let bCont = $('footer#triviaButtons div.btn-group');
      bCont.find('button').remove();

      $.each(State.Trivia.Questions, function(i, v){

        //<button type="button" class="btn btn-default btn-md">64</button>

        let bt = document.createElement('button');
        bt.setAttribute('class', 'btn btn-default btn-sm');
        bt.setAttribute('data-question', i+1);
        let text = ("00" + (i+1)).slice(-2);
        let txt = document.createTextNode(text);
        bt.appendChild(txt);
        bCont.append(bt);

      });

    };

    State.Trivia.getQuestion = function(e, question){

      e.preventDefault();
      let q;

      if(question) q = question;
      else q = $("#TriviaForm #questionID").val();

      let len = State.Trivia.Questions.length;

      if(q == '' || q > len) return;

      let z = q-1;

      console.log("Obteniendo Pregunta", q, State.Trivia.Questions.length);
      $("#TriviaForm #questionID").val("");

      let TriviaQuestion = State.Trivia.Questions[z];
      State.Trivia.NoOptions = z;

      // ACA DIBUJO
      $("#TriviaQuestion h3").html(TriviaQuestion.text);

      let answerList = $("#TriviaQuestion ul");
      answerList.find('li').remove();

      $.each(TriviaQuestion.answers, function(i, v){

        let li = document.createElement('li');
        let text = document.createTextNode(v);
        li.appendChild(text);

        if(v == TriviaQuestion.correct[0]) {
          li.setAttribute("class", 'alert correct');
          console.log(State.Players);
        }
        else li.setAttribute("class", 'alert');

        answerList.append(li);

      });

    };

    State.Trivia.showCorrect = function(e){
      e.preventDefault();
      let correct = $("#TriviaQuestion ul li").length;
      if(correct == 4) {
        console.log("Hay Correcta");
        $("#TriviaQuestion ul li.correct").addClass('alert alert-success');
      }else{
        console.log("Sin variantes - responde directo");
        let TriviaQuestion = State.Trivia.Questions[State.Trivia.NoOptions];
        console.log(State.Trivia);
        let answerList = $("#TriviaQuestion ul");
        answerList.find('li').remove();
        $.each(TriviaQuestion.correct, function(i, v){

        let li = document.createElement('li');
        let text = document.createTextNode(v);
        li.appendChild(text);

        if(v == TriviaQuestion.correct[0]) li.setAttribute('class', 'alert alert-success');
        answerList.append(li);

      });
        
      }
    };


    //FUNCIONES DE RIDDLER

    State.Riddler.Init = function(){

      this.cursor = 0;
      this.optionCursor = 0;
      this.maxQuestions = this.Questions.length;
      console.log("Init Riddler", this);

    };

    State.Riddler.Start = function(e){

      e.preventDefault();
      this.getQuestion(e, this.cursor);
      console.log("Riddler Started");

    };

    State.Riddler.Prev = function(e){

      e.preventDefault();

      if(this.cursor > 0) {
        this.optionCursor = 0;
        this.cursor--;
        this.getQuestion(e, this.cursor);
        console.log("Riddler Prev");
      }else return;

    };

    State.Riddler.Next = function(e){

      e.preventDefault();
      let maxQ = this.maxQuestions -1;
      if(this.cursor < maxQ) {
        this.optionCursor = 0;
        this.cursor++;
        this.getQuestion(e, this.cursor);
        console.log("Riddler Prev");
      }else return;

    };

    State.Riddler.ShowOption = function(e){

      e.preventDefault();
      let maxQ = this.maxQuestions;

      console.log("Riddler Option - Cursor, MaxQ, OptCursor",  this.cursor, maxQ, this.optionCursor);

      if(this.cursor < maxQ) {

        let question = State.Riddler.Questions[this.cursor];
        console.log("Options: ", question.answers.length);


        if(this.optionCursor != null && this.optionCursor < question.answers.length){
          let actualOption = question.answers[this.optionCursor];

          //DIBUJO UNO POR UNO LAS OPCIONES
          let answerList = $("#RiddlerQuestion ul#RiddlerOptions");

          let li = document.createElement('li');
          let text = document.createTextNode(actualOption);
          li.appendChild(text);
          answerList.append(li);

          console.log("Actual Option: ", actualOption);
          this.optionCursor++;
        }


      }else return;

    };

    State.Riddler.showCorrect = function(e){

      e.preventDefault();
      let RiddlerQuestion = State.Riddler.Questions[this.cursor];
      //let answerList = $("#RiddlerQuestion ul#RiddlerOptions");
      //answerList.find('li').remove();
      let correctList = $("#RiddlerQuestion ul#RiddlerCorrect");
      correctList.find('li').remove();

      $.each(RiddlerQuestion.correct, function(i, v){

        let li = document.createElement('li');
        let text = document.createTextNode(v);
        li.appendChild(text);

        if(v == RiddlerQuestion.correct[0]) li.setAttribute('style', 'alert alert-danger');
        else li.setAttribute("class", 'alert');

        correctList.append(li);

      });

    };

    State.Riddler.getQuestion = function(e, q){

      e.preventDefault();
      let len = State.Riddler.Questions.length;

      console.log("Riddler State: ", State.Riddler);

      State.Riddler.optionCursor = 0;

      if(q == '' || q > len) q = this.cursor;

      console.log("Obteniendo Pregunta", q, State.Riddler.Questions.length);

      let RiddlerQuestion = State.Riddler.Questions[q];

      console.log(RiddlerQuestion);

      // ACA DIBUJO
      $("#RiddlerQuestion h3").html(RiddlerQuestion.text);

      let answerList = $("#RiddlerQuestion ul");
      answerList.find('li').remove();

    };


    State.Riddler.Questions = [

{
        "text": "AUTOR",
        "correct": ["Lee Falk"],
        "answers": ["PISTA 1 (por 5 libros): Su verdadero nombre era Leon Harrison Gross, pero es infinitamente más conocido por un pseudónimo.","PISTA 2 (por 4 libros): Se consideraba un autor de teatro, produjo unas 300 obras y dirigió 100 de ellas.","PISTA 3 (por 3 libros): Fue el primer guionista estrella del comic estadounidense, sinónimo de aventuras en las tiras diarias.","PISTA 4 (por 2 libros): Creó a un falso inmortal y a un tipo que vivía de ilusiones.","PISTA 5 (por 1 libro): Es el creador y guionista de Mandrake the Magician y The Phantom."]
      },
{
        "text": "PERSONAJE",
        "correct": ["Astroboy"],
        "answers": ["PISTA 1 (por 5 libros): En su nombre hay un brazo de hierro.","PISTA 2 (por 4 libros): Es una máquina creada por un dios.","PISTA 3 (por 3 libros): Tiene que ver con un perro animado, un manga de Naoki Urasawa, y un miembro de la Legion of Super-Heroes.","PISTA 4 (por 2 libros): La versión original se publicó entre 1952 y 1968, pero volvió muchas veces con secuelas, remakes y adaptaciones.","PISTA 5 (por 1 libro): Es el androide justiciero con el que se consagró Osamu Tezuka."]
      },


    ];

    // Seteo propiedades de User/players
    State.Users.Players = [];

    // AGREGA USER A LA LISTA

    State.Users.addUser = function(e){

      e.preventDefault();

      let name = $("#PlayerName").val();

      if(name == ''){
        alert('Ingrese el nombre del Jugador');
        return;
      }

      let player = {
        "Name": $("#PlayerName").val(),
        "Points": 0,
      };

      State.Users.Players.push(player);
      this.createPlayerList();
      $("#PlayerName").val("");
      console.log(State.Users.Players);

    };

    // CREA LISTA INICIAL DE PLAYERS

    State.Users.createPlayerList = function(){

      let PlayerList = $("#PlayerList");
      let PlayerPointsList = $("#UserPointsSelect");

      $("#PlayerList li").remove();
      $("#UserPointsSelect option").remove();


      $.each(State.Users.Players, function(index, val){

        let li = document.createElement('li');
        let NamePoints = val.Name + ': ' + val.Points;
        let text = document.createTextNode(NamePoints);
        li.appendChild(text);
        PlayerList.append(li);

        let opt = document.createElement('option');
        opt.value = val.Name;
        opt.text = val.Name;

        PlayerPointsList.append(opt);


      });

      console.log("Created Players List");

    };

    // AGREGA PUNTOS A LOS PLAYERS

    State.Users.AddPoints = function(user, points){

      function find(nameKey, myArray){
        for (var i=0; i < myArray.length; i++) {
          if (myArray[i].Name === nameKey) {
            return myArray[i];
          }
        }
      }

      let u = find(user, this.Players);
      u.Points += points;
      console.log(u);

    };
    
    State.Users.resetPoints = function(user){

      function find(nameKey, myArray){
        for (var i=0; i < myArray.length; i++) {
          if (myArray[i].Name === nameKey) {
            return myArray[i];
          }
        }
      }

      let u = find(user, this.Players);
      u.Points = 0;
      console.log(u);

    };


    // HACE UPDATE DE LISTA DE PUNTOS
    State.Users.UpdatePlayersList = function() {

      let PlayerList = $("#PlayerList");
      $("#PlayerList li").remove();

      $.each(State.Users.Players, function(index, val){

        let li = document.createElement('li');
        let NamePoints = val.Name + ': ' + val.Points;
        let text = document.createTextNode(NamePoints);
        li.appendChild(text);
        PlayerList.append(li);

      });
      $("#UserPointsSelect").val(State.Users.Players[State.Users.cursor].Name);

      console.log("Updated Players List");

    };
    
    State.Users.Init = function(){

      this.cursor = 0;
      this.maxPlayers = this.Players.length;
      console.log("Init Users", this);

    };

    // INICIALIZO
    State.Users.Init();
    State.Killer.Init();
    State.Trivia.Init();
    State.Aprox.Init();
    State.Untie.Init();
    State.Riddler.Init();

    // FUNCIONES DE USUARIOS

    $("#AddUser").click(function (e){
      State.Users.addUser(e);
    });

    $("#DoneAddUser").click(function (e){
      e.preventDefault();
      if(Object.keys(State.Users.Players).length === 0) {
       console.log("Error attempting to create user list. It is empty");
       return;
      }
      $("#formAddUserPoints").toggle();
      $("#formAddUsers").toggle();
    });

    // MUESTRA CORRECTA DE Aproximacion
    $("#showAproxAnswer").click(function(e){
      State.Aprox.showCorrect(e);
    });

    // MUESTRA CORRECTA DE Killer
    $("#showKillerAnswer").click(function(e){
      State.Killer.showCorrect(e);
    });

    // MUESTRA CORRECTA DE Riddler
    $("#showRiddlerAnswer").click(function(e){
      State.Riddler.showCorrect(e);
    });

    // MUESTRA CORRECTA DE Untie
    $("#showUntieAnswer").click(function(e){
      State.Untie.showCorrect(e);
    });

    // MUESTRA CORRECTA DE TRIVIA
    $("#showCorrectAnswer").click(function(e){
      State.Trivia.showCorrect(e);
    });

    // BINDEO DINAMICO DE PREGUNTAS
    $(document.body).on('click', '#TriviaQuestion ul li',function(e){

      if(!$(this).hasClass('correct')) {
        $(this).addClass('alert alert-danger');
      //si la respuesta no es correcta pasa al proximo usuario
      if(State.Users.cursor < (State.Users.Players.length -1)) {
        State.Users.cursor++;
      }else State.Users.cursor = 0;
      State.Users.UpdatePlayersList();
      console.log(State.Users.Players[State.Users.cursor].Name);
      
      }else{
        //si la respuesta es correcta, suma un punto al usuario
        State.Users.AddPoints(State.Users.Players[State.Users.cursor].Name, 1);
        State.Users.UpdatePlayersList();
        console.log(State.Users.Players[State.Users.cursor].Name, State.Users.Players[State.Users.cursor].Points);
      }
      State.Trivia.showCorrect(e);

    });

    $(document.body).on('click', '#KillerQuestion ul li',function(e){

      if(!$(this).hasClass('correct')) $(this).addClass('alert alert-danger');
      State.Killer.showCorrect(e);

    });


    // SUMAN Y RESTAN PUNTOS

    $("#minusPoint").click(function(e){
      e.preventDefault();
      let user = $("#UserPointsSelect").val();
      State.Users.AddPoints(user, -1);
      State.Users.UpdatePlayersList();

    });

    $("#plusPoint").click(function(e){
      e.preventDefault();
      let user = $("#UserPointsSelect").val();
      State.Users.AddPoints(user, 1);
      State.Users.UpdatePlayersList();

    });

    $("#resetPoints").click(function(e){
      e.preventDefault();
      let user = $("#UserPointsSelect").val();
      State.Users.resetPoints(user);
      State.Users.UpdatePlayersList();

    });

    // IR A LA PREGUNTA DE TRIVIA

    $("#goQuestion").click(function (e){
      State.Trivia.getQuestion(e);
    });

    // IR A LA PREGUNTA ESPECIFICA POR BOTON

    $(document.body).on('click', '#triviaButtons button', function(e){

      let q = $(this).attr('data-question');
      if(!$(this).hasClass('correct')) $(this).addClass('btn-danger');
      State.Trivia.getQuestion(e, q);

    });

    $("#StartKiller").click(function (e){
      State.Killer.Start(e);
      $(this).hide();
    });

    $("#StartUntie").click(function (e){
      State.Untie.Start(e);
      $(this).hide();
    });

    $("#StartAprox").click(function (e){
      State.Aprox.Start(e);
      $(this).hide();
    });

    $("#StartRiddler").click(function (e){
      State.Riddler.Start(e);
      $(this).hide();
    });


    $("#prevUntieQuestion").click(function (e){
      State.Untie.Prev(e);
    });

    $("#nextUntieQuestion").click(function (e){
      State.Untie.Next(e);
    });

    $("#prevRiddlerQuestion").click(function (e){
      State.Riddler.Prev(e);
    });

    $("#nextRiddlerQuestion").click(function (e){
      State.Riddler.Next(e);
    });


    $("#showRiddlerOption").click(function (e){
      State.Riddler.ShowOption(e);
    });

    $("#prevAproxQuestion").click(function (e){
      State.Aprox.Prev(e);
    });

    $("#nextAproxQuestion").click(function (e){
      State.Aprox.Next(e);
    });

    $("#prevKillerQuestion").click(function (e){
      State.Killer.Prev(e);
    });

    $("#nextKillerQuestion").click(function (e){
      State.Killer.Next(e);
    });


  });
  </script>
  <style>

    body{
      background: #bfd3ff;
    }

    ul#PlayerList {
      padding: 1em 0;
      text-transform: uppercase;
    }

    .question {
      padding-bottom:2.2em;
      text-align:center;
    }

    .question ul li{
      font-size: 1.6em;
    }

    .question header h3{
      background: rgba(0,0,0,.9);
      color:white;
      padding:10px;
      border-radius: 5px;
      line-height:1.4em;
    }

    .question .correct{

    }

    #RiddlerQuestion ul#RiddlerOptions li{
      text-align: left;
    }

    #RiddlerQuestion ul#RiddlerCorrect li{
      font-size:2em;
      font-weight:bold;
    }

    #RulesText{
    padding-bottom:3em;
      }

    .formPoints{
    margin-bottom: 1em;  
    }

  </style>
</body>
</html>
